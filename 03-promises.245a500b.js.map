{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEgBC,SAASC,cAAc,SAE/BC,iBAAiB,UAEzB,SAAuBC,GACrBA,EAAGC,iBACH,IAAIC,EAAW,EACXC,EAAQC,OAAOJ,EAAGK,OAAOC,MAAMC,OACnC,MAAMC,EAAOJ,OAAOJ,EAAGK,OAAOG,KAAKD,OAC7BE,EAASL,OAAOJ,EAAGK,OAAOI,OAAOF,OAEvCG,YAAW,KACT,MAAMC,EAAUC,aAAY,KACtBH,IAAWP,EACbW,cAAcF,IAEdT,GAAW,EAanB,SAAuBY,EAAUR,GAC/B,MAAMS,EAAgBC,KAAKC,SAAW,GAChCV,EAAQ,C,SAAEO,E,MAAUR,GAC1B,OAAIS,EACKG,QAAQC,QAAQZ,GAEhBW,QAAQE,OAAOb,E,CAlBlBc,CAAcnB,EAAUC,GACrBmB,MAAK,EAACR,SAAEA,EAAQR,MAAEA,MACjBiB,EAAA5B,GAAS6B,OAAOC,QAAQ,uBAAqBX,QAAiBR,MAAU,IAEzEoB,OAAM,EAACZ,SAAEA,EAAQR,MAAEA,MAClBiB,EAAA5B,GAAS6B,OAAOG,QAAQ,sBAAoBb,QAAeR,MAAU,I,GAG3EH,GAASK,EAAK,GACfL,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from \"notiflix\";\n\nconst formRef = document.querySelector('.form');\n\nformRef.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit (ev) {\n  ev.preventDefault();\n  let position = 0;\n  let delay = Number(ev.target.delay.value);\n  const step = Number(ev.target.step.value);\n  const amount = Number(ev.target.amount.value);\n\n  setTimeout(() => {\n    const timerId = setInterval(() => {\n      if (amount === position) {\n        clearInterval(timerId);\n      } else {\n        position +=1;\n        createPromise(position, delay)\n          .then(({ position, delay }) => {\n            Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n          })\n          .catch(({ position, delay }) => {\n            Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n          });\n      }\n    },delay += step);\n  }, delay);\n};\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const value = { position, delay };\n  if (shouldResolve) {\n    return Promise.resolve(value);\n  } else {\n    return Promise.reject(value);\n  }\n}\n"],"names":["$7Y9D8","parcelRequire","document","querySelector","addEventListener","ev","preventDefault","position1","delay1","Number","target","delay","value","step","amount","setTimeout","timerId","setInterval","clearInterval","position","shouldResolve","Math","random","Promise","resolve","reject","$47d4ff9957288465$var$createPromise","then","$parcel$interopDefault","Notify","success","catch","failure"],"version":3,"file":"03-promises.245a500b.js.map"}