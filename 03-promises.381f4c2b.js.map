{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEgBC,SAASC,cAAc,SAE/BC,iBAAiB,UAEzB,SAAuBC,GACrBA,EAAGC,iBACH,IAAIC,EAAW,EACXC,EAAQC,OAAOJ,EAAGK,OAAOC,MAAMC,OAC7BC,EAAOJ,OAAOJ,EAAGK,OAAOG,KAAKD,OAC7BE,EAASL,OAAOJ,EAAGK,OAAOI,OAAOF,OAEvCG,YAAW,WACT,IAAMC,EAAUC,aAAY,WAiBhC,IAAuBC,EAAUP,EACzBQ,EACAP,EAlBEE,IAAWP,EACba,cAAcJ,IAeCE,EAbfX,GAAW,EAacI,EAZDH,EAaxBW,EAAgBE,KAAKC,SAAW,GAChCV,EAAQ,CAAEM,WAAUP,SACtBQ,EACKI,QAAQC,QAAQZ,GAEhBW,QAAQE,OAAOb,IAjBfc,MAAK,SAAAC,G,IAAGT,EAAQS,EAART,SAAUP,EAAKgB,EAALhB,MACjBiB,EAAA5B,GAAS6B,OAAOC,QAAQ,uBAAwCC,OAAfb,EAAS,QAAYa,OAANpB,EAAM,M,IAEvEqB,OAAM,SAAAL,G,IAAGT,EAAQS,EAART,SAAUP,EAAKgB,EAALhB,MAClBiB,EAAA5B,GAAS6B,OAAOI,QAAQ,sBAAqCF,OAAfb,EAAS,QAAYa,OAANpB,EAAM,M,MAGzEH,GAASK,E,GACVL,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from \"notiflix\";\n\nconst formRef = document.querySelector('.form');\n\nformRef.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit (ev) {\n  ev.preventDefault();\n  let position = 0;\n  let delay = Number(ev.target.delay.value);\n  const step = Number(ev.target.step.value);\n  const amount = Number(ev.target.amount.value);\n\n  setTimeout(() => {\n    const timerId = setInterval(() => {\n      if (amount === position) {\n        clearInterval(timerId);\n      } else {\n        position +=1;\n        createPromise(position, delay)\n          .then(({ position, delay }) => {\n            Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n          })\n          .catch(({ position, delay }) => {\n            Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n          });\n      }\n    },delay += step);\n  }, delay);\n};\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const value = { position, delay };\n  if (shouldResolve) {\n    return Promise.resolve(value);\n  } else {\n    return Promise.reject(value);\n  }\n}\n"],"names":["$6JpON","parcelRequire","document","querySelector","addEventListener","ev","preventDefault","position1","delay1","Number","target","delay","value","step","amount","setTimeout","timerId","setInterval","position","shouldResolve","clearInterval","Math","random","Promise","resolve","reject","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.381f4c2b.js.map"}